@page
@using Yggdrasil.DbModels
@model Yggdrasil.Pages.Study.HomeworkModel
@{
}


@for (int i = 0; i < Model.Subjects.Count; i++)
{
    <h2>@Model.Subjects[i].Name</h2>
    <form id="homework-finished-form" method="post" asp-page="Homework">
        
        @{ List<Homework> homeworks = Model.Subjects[i].Homeworks as List<Homework>; }
        @for (int j = 0; j < Model.Subjects[i].Homeworks.Count; j++)
        {
            <table class="table">
                <thead>
                <tr>
                    <th scope="col">Задание</th>
                    <th scope="col">Дедлайн</th>
                    <th scope="col">Сделано?</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>@Model.Subjects</td>
                    <td>@homeworks[j].Deadline</td>
                    <td>
                        @if (homeworks[j].Finished)
                        {
                            <input asp-for="@homeworks[j].Finished" class="form-check-input" type="checkbox">
                        }
                        else
                        {
                            <input asp-for="@homeworks[j].Finished" class="form-check-input" type="checkbox">
                        }
                        <input type="hidden" asp-for="@homeworks[j].Deadline"/>
                        <input type="hidden" asp-for="@homeworks[j].Description"/>
                        <input type="hidden" asp-for="@homeworks[j].Id"/>
                        <input type="hidden" asp-for="@homeworks[j].Subject"/>
                    </td>
                </tr>
                </tbody>
            </table>

        }
        <input class="btn primary-button" type="submit"/>
    </form>
}
